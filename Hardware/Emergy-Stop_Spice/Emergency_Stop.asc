Version 4
SHEET 1 2300 1316
WIRE -432 -144 -432 -192
WIRE -432 -144 -592 -144
WIRE -592 -96 -592 -144
WIRE -432 16 -432 -144
WIRE -592 32 -592 -16
WIRE -576 32 -592 32
WIRE -480 32 -496 32
WIRE -592 64 -592 32
WIRE 704 96 704 80
WIRE 1008 112 1008 96
WIRE 1152 112 1152 96
WIRE -432 128 -432 112
WIRE -816 144 -816 112
WIRE -768 144 -816 144
WIRE -672 144 -672 112
WIRE -672 144 -688 144
WIRE -640 144 -672 144
WIRE 176 144 176 128
WIRE -816 160 -816 144
WIRE 144 160 48 160
WIRE 256 176 208 176
WIRE 656 176 256 176
WIRE -1088 192 -1088 160
WIRE 144 192 112 192
WIRE 1008 208 1008 192
WIRE 1152 208 1152 192
WIRE 176 224 176 208
WIRE 704 224 704 192
WIRE -816 256 -816 240
WIRE -592 256 -592 160
WIRE -592 256 -816 256
WIRE 256 272 256 176
WIRE -592 288 -592 256
WIRE -1088 320 -1088 272
WIRE -1024 320 -1088 320
WIRE -928 320 -944 320
WIRE 1008 336 1008 320
WIRE -1088 368 -1088 320
WIRE 112 384 112 192
WIRE 256 384 256 352
WIRE 256 384 112 384
WIRE -432 400 -432 384
WIRE -464 416 -496 416
WIRE 256 416 256 384
WIRE 384 416 384 400
WIRE -336 432 -400 432
WIRE -288 432 -336 432
WIRE 1008 432 1008 416
WIRE -464 448 -560 448
WIRE 1216 464 1184 464
WIRE 1312 464 1296 464
WIRE -432 480 -432 464
WIRE -1088 496 -1088 448
WIRE 256 512 256 496
WIRE 384 512 384 496
WIRE 384 512 256 512
WIRE 384 528 384 512
WIRE -496 560 -496 416
WIRE -480 560 -496 560
WIRE -336 560 -336 432
WIRE -336 560 -400 560
WIRE 1232 560 1232 544
WIRE -496 576 -496 560
WIRE 1088 576 1040 576
WIRE 1184 576 1184 464
WIRE 1184 576 1168 576
WIRE 1200 576 1184 576
WIRE -80 592 -80 576
WIRE 1312 592 1312 464
WIRE 1312 592 1264 592
WIRE 1376 592 1312 592
WIRE -112 608 -144 608
WIRE 1200 608 1168 608
WIRE 16 624 -48 624
WIRE 64 624 16 624
WIRE 384 624 384 608
WIRE 1952 624 1840 624
WIRE 2016 624 1952 624
WIRE 2080 624 2016 624
WIRE -112 640 -208 640
WIRE 1232 640 1232 624
WIRE 1952 656 1952 624
WIRE 2016 656 2016 624
WIRE -80 672 -80 656
WIRE -144 752 -144 608
WIRE -128 752 -144 752
WIRE 16 752 16 624
WIRE 16 752 -48 752
WIRE 1952 752 1952 720
WIRE 1984 752 1952 752
WIRE 2016 752 2016 736
WIRE 2016 752 1984 752
WIRE -144 768 -144 752
WIRE 1168 784 1168 608
WIRE 1360 784 1360 768
WIRE 1360 784 1168 784
WIRE 1984 784 1984 752
WIRE 1360 800 1360 784
WIRE -144 864 -144 848
FLAG 176 224 0
FLAG 1152 208 0
FLAG 1152 96 +5V
FLAG 176 128 +5V
FLAG 704 224 0
FLAG 384 624 0
FLAG 384 400 +5V
FLAG -1088 496 0
FLAG -1088 160 heater
FLAG 1008 208 0
FLAG 1008 96 +12V
FLAG -432 -192 +12V
FLAG -592 288 0
FLAG 1008 432 0
FLAG 1008 320 pwm
FLAG -816 112 pwm
FLAG 704 80 safety
FLAG -432 128 heater
FLAG -928 320 sensor
FLAG -432 480 0
FLAG -432 384 +5V
FLAG -560 448 sensor
FLAG -288 432 thermo_raw
FLAG -80 672 0
FLAG -80 576 +5V
FLAG -208 640 sensor
FLAG 64 624 thermo_coarse
FLAG -144 864 0
FLAG 48 160 thermo_voltage
FLAG 1232 640 0
FLAG 1232 544 +5V
FLAG 1040 576 thermo_coarse
FLAG 1376 592 thermo_coarse_inv
FLAG 1360 880 0
FLAG 1360 688 +5V
FLAG 1776 624 thermo_coarse_inv
FLAG 1984 784 0
FLAG 2080 624 thermo_voltage
FLAG -496 656 0
FLAG -672 112 safety
SYMBOL Opamps\\opamp2 176 112 R0
SYMATTR InstName U1
SYMATTR Value LM324
SYMBOL voltage 1152 96 R0
SYMATTR InstName Vcc
SYMATTR Value 5
SYMBOL res 240 256 R0
SYMATTR InstName R5
SYMATTR Value 200k
SYMBOL res 240 400 R0
SYMATTR InstName R6
SYMATTR Value 100k
SYMBOL nmos 656 96 R0
SYMATTR InstName M1
SYMATTR Value BSS123
SYMATTR Prefix X
SYMBOL res 368 400 R0
SYMATTR InstName R4
SYMATTR Value 11k
SYMBOL res 368 512 R0
SYMATTR InstName R3
SYMATTR Value 6.2k
SYMBOL res -1104 352 R0
SYMATTR InstName R_wire
SYMATTR Value 0.01
SYMBOL res -1104 176 R0
SYMATTR InstName R_heater
SYMATTR Value 3
SYMBOL voltage -928 320 R90
WINDOW 0 -32 56 VBottom 2
WINDOW 3 32 56 VTop 2
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName V_thermo
SYMATTR Value PULSE({T} 0.010230859 2 0 0 4)
SYMBOL pmos -480 112 M180
SYMATTR InstName M2
SYMATTR Value irf7424
SYMATTR Prefix X
SYMBOL nmos -640 64 R0
SYMATTR InstName M3
SYMATTR Value BSS123
SYMATTR Prefix X
SYMBOL res -592 48 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R15
SYMATTR Value 100
SYMBOL res -608 -112 R0
SYMATTR InstName R36
SYMATTR Value 10k
SYMBOL voltage 1008 96 R0
SYMATTR InstName Vsupply
SYMATTR Value 12
SYMBOL res -784 160 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R16
SYMATTR Value 100
SYMBOL res -832 144 R0
SYMATTR InstName R37
SYMATTR Value 10k
SYMBOL voltage 1008 320 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR InstName Vpwm
SYMATTR Value PULSE(0 5 0 0 0 0.001 0.1)
SYMBOL Opamps\\opamp2 -432 368 R0
SYMATTR InstName U3
SYMATTR Value LM324
SYMBOL res -496 576 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R1
SYMATTR Value 430k
SYMBOL res -480 672 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL Opamps\\opamp2 -80 560 R0
SYMATTR InstName U4
SYMATTR Value LM324
SYMBOL res -144 768 R270
WINDOW 0 32 56 VTop 2
WINDOW 3 0 56 VBottom 2
SYMATTR InstName R8
SYMATTR Value 330k
SYMBOL res -128 864 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R9
SYMATTR Value 1k
SYMBOL Opamps\\opamp2 1232 528 R0
SYMATTR InstName U5
SYMATTR Value LM324
SYMBOL res 1344 672 R0
SYMATTR InstName R10
SYMATTR Value 68k
SYMBOL res 1344 784 R0
SYMATTR InstName R11
SYMATTR Value 100k
SYMBOL res 1184 560 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R12
SYMATTR Value 20k
SYMBOL res 1312 448 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R13
SYMATTR Value 100k
SYMBOL diode 1776 640 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL cap 1936 656 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL res 2000 640 R0
SYMATTR InstName R14
SYMATTR Value 220k
TEXT 1248 136 Left 2 !.inc parts/LM324.5_1
TEXT 1248 168 Left 2 !.inc parts/BSS123.prm
TEXT 1248 200 Left 2 !.inc parts/irf7424.spi
TEXT -1120 696 Left 2 !.tran 0 10 0
TEXT 1240 312 Left 2 ;.step param P list 0.0 0.01 0.05 0.09 0.095 0.0999
TEXT -936 400 Left 2 !.step param T 0.000699451 0.010230859 0.000953141
TEXT 1552 128 Left 2 ;.inc parts/ts914_spice.txt
TEXT 1240 352 Left 2 ;.step param P list 0.0 0.001 0.090 0.099 0.0999
