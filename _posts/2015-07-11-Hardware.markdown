---
layout: default
title:  "Hardware Details"
date:   2015-07-11 12:00:00
---

## GENERAL

We started out with designing a fairly simple circuit consisting of an AVR ATmega328P a series of FETs, capacitors and a LM324.
It all was designed to be as cheap and easy to get as possible.
Pretty soon a three digit display got attached, a voltage regulator was patched in and buttons were added.
That was basically the first version of this soldering iron.

But we were not very happy with the results.
The LM324 was too unreliable in terms of measuring the same temperature with different LM324.
It just varied too much.
So we upgraded to an OPA336U.
The LM324 still stayed on the board and came in handy in another way.

## SAFETY CIRCUIT

Modern hardware like your smartphone cannot be physically broken by installing some software.
At worst you can make it unusable by bricking your device but you usually cannot make it go up in smoke.
We tried to achieve the same thing with this soldering Iron.
But doing this with a piece of hardware which is supposed to get hot is a lot harder.
So we built two protection circuits to prevent to soldering tip from dying.

- Over temperature protection: When the tips temperature exceeds about 380&deg;C to 390&deg;C. This safety circuit also features a hysteresis so it lets the tip cool back down. It also indicates with a LED that this circuit was triggered.
- Over duty cycle protection: When you write your own software and screw things up so the AVR gets stuck and does not stop heating the circuit detects a 100% duty cycling and cuts power before the soldering tip gets too hot. This will also be indicated with a LED.

If one of those two features triggers the power to the tip will be cut.
The 5V logic will stay on and the AVR can detect the safety features triggering when R32 is mounted (we recommend a 1 kOhm resistor).
The circuit was designed using LTSpice and tested with the real hardware after simulation showed promising results.

![View on Safety Circuit]({{ site.imageurl }}/layout_safety_circuit.png)

## PIN HEADER

You can of course connect a variety of additional equipment to your version of this soldering iron.
The TWI bus is put onto pinheader, just like UART and two more GPIOs/ADCs (PC2, PC3).

[Overview](PinheaderOverview)

![View on Pin Header]({{ site.imageurl }}/pcb_bottom_layer.png)

## TEMPERATURE MEASUREMENT

As mentioned before we use an OPA336U for measuring the temperature of the soldering tip.
The amplification factor is set to 511 and this way we can use most of the range of this rail-to-rail OpAmp.

![View on Pin Header]({{ site.imageurl }}/layout_opamp.png)

## DISPLAY

The first version featured a three digit seven segment display from AliExpress with a common cathode, which took care of the segments internal wiring.
That saved us a lot of effort in terms of routing wires underneath the display.
In the latest version we decided to use standard single digit seven segment displays, because we are a little afraid that those three digit displays may not always be available or are harder to order for some users.
The display is wired to the AVR's PORT B and the n-FETs controlling the cathode of each digit are controlled with PD4, PD6 and PD7.

## BUTTONS

What would be a soldering iron without buttons?! Since we wired our Buttons to PD2 and PD3, which are interrupt pins, 

[Software](Software)
[Wires](Wires)
[Misc](Misc)

[back to Frontpage](Frontpage)
